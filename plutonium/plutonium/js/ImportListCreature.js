'use strict';const _0x394b=['folder','17NXekyP','entries','_isRadio','sourceClassName','_getBiographyValue','_getItemHashesFromAcItem','getCleanEntityName','_pImportEntry_fillData_Resources','<div>','monster','isNonstandardSource','Challenge\x20Rating','actors','click','tremorsense','pGetLairActionImage','_WALER_RENAME','monsterFluff','_getSpellCount','_DEFAULT_SAVING_THROW_DATA','Failed\x20to\x20find\x20sheet\x20item\x20for\x20item\x20\x22','_tmpItemId','ScaleRename','2YCXusb','prepared','copy','day','warn','getDataSkills','_pImportEntry_fillData_Currency','daily','length','Breath\x20Weapons:\x20','pact','filter','Other\x20AC\x20Bonus','_pImportEntry_fillConditionsDamage','_pImportEntry_pFillItems_pSpellcasting','action','ascSort','_vCr','_pImportEntry_pFillItems_pAction','doHookSpellLinkRender','[name=\x22ipt-rename\x22]','_isPreviewable','lair','stringify','PG_BESTIARY','pGetTraitReactionLegendaryImage','_id','itemProperties','[name=\x22btn-run\x22]','senses','Lair:\x20','name','updateEntity','alignment','uid','ascSortLower','alignmentListToFull','legendaryMeta','spelldc','getEntryDescription','_getCasterLevelFromEntry','ability','\x20+\x20@mod','addHook','toTitleCase','_plut_cleanName','permissions','_displayName','_plut_legActions','med','find','list','spellDc','asText','pCacheAndGetHash','lower','pGetSpellHashToItemPosMapAndFillSpells','Upload\x20File','_titleButtonRun','trim','_pImportEntry_pFillItems_pAddWeapon','_pImportEntry_pFillItems_addTextOnlyItem','prop','attribute','dex','spellcasting','crToNumber','getData','Actor','161937bddXzJ','crToXpNumber','Eye\x20Ray:\x20','sourceJsonToColor','npc','cha','_pageFilter','/media/icon/mighty-force.svg','every','constant','stripTags','has','item','pGetItemItem','_pImportEntry_pFillItems_pRegionalEffects','link','_pImportEntry_pFillItems_lairActions_addLairAction','getCreatureUrl','dndz-creatures','[name=\x22sel-cr\x22]','img','getCombinedFoundryData','forEach','_pImportEntry_pGetFolderId','_pImportEntry_pFillItems_pInventory','currency','getSpeedValue','Legendary\x20Actions','_pTypes','sourceShort','_getSavingThrowData','isStreamerMode','DataSourceSpecial','will','spellClass','340436yPqzRc','all','_pImportEntry_pFillItems_pSpellcasting_recharge','_page','pGetFluff','assumedPb','spells','MODULE_NAME','render','Import\x20Creatures','URL_TO_HASH_BUILDER','attributes','_getCasterClassFromEntry','95857iNdvzz','_pImportEntry_pFillData_Attributes','innate','ele','creatures','data/bestiary/','_pImportEntry_pFillItems_pLairActions','pGetSources','exec','(^|[^a-zA-Z0-9])','effects','weight','con','replace','SOURCE_TYP_ARCANA','creature','fluff','VET_SIZE_TO_ABV','text-center','SRD','regionalEffects','class','[name=\x22btn-reset\x22]','damageVersatile','push','_pImportEntry_fillData_Traits','Name','function','darkvision','custom','pGetAllCreatures','monCrToFull','_pImportEntry_fillData_Spells','flags','includes','_pImportEntry_pFillItems_getSubActions','mon','actor','Scale\x20and\x20Rename\x20Creatures','skills','headerEntries','isSpeedHover','ACTIVE_EFFECT_MODES','scale','sourceLong','str','group','weapon','postItemItemUpdates','truesight','add','movement','Custom\x20URL','getSourceWithPagePart','resources.legres.value','_$btnReset','split','removeHook','getAbilityModNumber','getMetaGroup','SOURCE_TYP_BREW','pGetParsedAction','_content','init','Import\x20with\x20CR\x20Scaling/Renames','PG_ITEMS','max','</div>','charges','_dataList','speed','_pImportEntry_pFillItems','getDataSpells','btn-run-mods','_pImportEntry_pFillItems_pAddItem','permission','_pImportEntry_pFillItems_pTraitsReactionsLegendaries','hover','fly','source','perm','Unhandled\x20lair\x20action\x20format!','traits','feat','splice','map','activateListeners','_postLoadVetools','weekly','swim','set','lairActions','resources.legact.value','_pFnPostProcessEntries','resources','bind','number','trait','_initSpellcasterData','_activateListeners_absorbListItems','sourceJsonToFull','_plut_isLegendaryResistance','titleSearch','price','_pImportEntry_fillData_Skills','string','[data-name=\x22wrp-btns-sort\x22]','_resolve','_getDamageTuplesWithMod','getFolderPathMeta','climb','isTemp','constructor','_getLairActionName','rendered','isImportBio','keys','fnPreProcess','attuned','formula','Creatures','DataSourceUrl','MODULE_LOCATION','getDamageTuples','bonus','identified','from','1124FYXMGt','initBtnSortHandlers','spellcastingPrimaryTraitMode','2861jTkpiI','data','99943JQSyBO','_initAssumedPb','close','substring','spellAbility','_pImportEntry_pFillItems_pLegendaryHeader','_pImportEntry_pFillData_Attributes_Ac','prof','_pCr','sourceJsonToAbv','get','joinConjunct','legendary','reaction','_getRenamedMon','absorbFnBindListeners','_pImportEntry_pGetImportMetadata','entry','\x20or\x20','damageParts','pGetCreatureIndex','size','_pImportEntry_pFillBase','postProcessFluff','spellLevel','Type\x20(With\x20Tags)','absorbFnGetData','bardingType','_getAbsorbListItemOpts','SOURCE_TYP_CUSTOM','damageTuples','environment','_pImportEntry_pFillItems_pActions','_titleSearch','_pImportEntry_fillData_Details','legres','.veapp__list','val','100enXKgR','Lair\x20Actions','importCreature','284888dWzKoF','legact','type','blindsight','getSpellcastingRenderedTraits','Source','OwnedItem','uppercaseFirst','doAbsorbItems','cant','monTypeToFullObj','Regional\x20Effects','average','Lair\x20Action','legendaryActions','SOURCE_TYP_OFFICIAL_ALL','([^a-zA-Z0-9]|$)','thieves\x27\x20cant','languages','reset','alias','test','items','.search','walk','join','_pack','_list','sort','special','_isUseMods','isEquipped','toLowerCase','getItemActorPassive','dndz','race','Failed\x20to\x20find\x20parent\x20sheet\x20item\x20for\x20item\x20\x22','ImportEntryOpts','rarity'];const _0x1ad9=function(_0x48eac4,_0x5cc41b){_0x48eac4=_0x48eac4-0x121;let _0x394b53=_0x394b[_0x48eac4];return _0x394b53;};const _0x50ad95=_0x1ad9;(function(_0x5b40e6,_0xc78025){const _0x965ac4=_0x1ad9;while(!![]){try{const _0x3fe64b=-parseInt(_0x965ac4(0x16a))+parseInt(_0x965ac4(0x247))*parseInt(_0x965ac4(0x1d2))+-parseInt(_0x965ac4(0x217))+parseInt(_0x965ac4(0x1bb))*parseInt(_0x965ac4(0x168))+-parseInt(_0x965ac4(0x193))+parseInt(_0x965ac4(0x165))*parseInt(_0x965ac4(0x190))+parseInt(_0x965ac4(0x23a));if(_0x3fe64b===_0xc78025)break;else _0x5b40e6['push'](_0x5b40e6['shift']());}catch(_0x382fa2){_0x5b40e6['push'](_0x5b40e6['shift']());}}}(_0x394b,0x23bf3));import{ImportList}from'./ImportList.js';import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{Util,LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{DataConverter}from'./DataConverter.js';import{DataConverterItem}from'./DataConverterItem.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{Consts}from'./Consts.js';import{DataConverterCreature}from'./DataConverterCreature.js';class ImportListCreature extends ImportListActor{constructor(_0x4a56bf){const _0x36649f=_0x1ad9;_0x4a56bf=_0x4a56bf||{},super({'title':_0x36649f(0x243)},_0x4a56bf,{'props':[_0x36649f(0x1c4)],'titleSearch':_0x36649f(0x24b),'sidebarTab':_0x36649f(0x1c7),'gameProp':_0x36649f(0x1c7),'defaultFolderPath':[_0x36649f(0x15e)],'folderType':_0x36649f(0x216),'fnListSort':PageFilterBestiary['sortMonsters'],'pageFilter':new PageFilterBestiary(),'isActorRadio':!![],'page':UrlUtil[_0x36649f(0x1ea)],'isPreviewable':!![],'isModdable':!![],'isDedupable':!![]},{'actorType':_0x36649f(0x21b)}),this[_0x36649f(0x1b1)]=![];}async[_0x50ad95(0x24e)](){const _0x20a1f0=_0x50ad95,_0x3f27cf=await Vetools[_0x20a1f0(0x17e)]();return[new ImportList[(_0x20a1f0(0x237))](Config[_0x20a1f0(0x174)]('ui',_0x20a1f0(0x236))?_0x20a1f0(0x25a):_0x20a1f0(0x1b5),async()=>(await Vetools[_0x20a1f0(0x265)]())[_0x20a1f0(0x1c4)],{'cacheKey':_0x20a1f0(0x229),'filterTypes':[ImportList[_0x20a1f0(0x1a2)]],'isDefault':!![]}),new ImportList[(_0x20a1f0(0x15f))](_0x20a1f0(0x27b),'',{'filterTypes':[ImportList[_0x20a1f0(0x187)]]}),new ImportList['DataSourceFile'](_0x20a1f0(0x20b),{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),...Object['entries'](_0x3f27cf)[_0x20a1f0(0x13b)](([_0x589022,_0x45513a])=>new ImportList[(_0x20a1f0(0x15f))](Parser[_0x20a1f0(0x14a)](_0x589022),Vetools[_0x20a1f0(0x228)](_0x45513a),{'source':_0x589022,'pPostLoad':ImportListCreature[_0x20a1f0(0x13d)][_0x20a1f0(0x145)](ImportListCreature,_0x589022),'filterTypes':SourceUtil[_0x20a1f0(0x1c5)](_0x589022)?[ImportList[_0x20a1f0(0x255)]]:[ImportList['SOURCE_TYP_OFFICIAL_SINGLE']]})),...(await Vetools['pGetHomebrewSources'](_0x20a1f0(0x256)))[_0x20a1f0(0x13b)](({name:_0x173716,url:_0xa161d5})=>new ImportList[(_0x20a1f0(0x15f))](_0x173716,_0xa161d5,{'filterTypes':[ImportList[_0x20a1f0(0x122)]]}))];}static[_0x50ad95(0x13d)](_0x7d95f1,_0x1cca0a){const _0x4d2175=_0x50ad95;return _0x1cca0a[_0x4d2175(0x1dd)](_0x2c5fa6=>_0x2c5fa6[_0x4d2175(0x135)]===_0x7d95f1);}[_0x50ad95(0x215)](){const _0x14f985=_0x50ad95;return{'isRadio':this[_0x14f985(0x1bd)],'isPreviewable':this[_0x14f985(0x1e7)],'titleButtonRun':this[_0x14f985(0x20c)],'titleSearch':this[_0x14f985(0x18b)],'buttonsAdditional':[{'name':_0x14f985(0x12f),'text':_0x14f985(0x126)}],'cols':[{'name':_0x14f985(0x261),'width':0x4,'field':_0x14f985(0x1f1)},{'name':'Type','width':0x5,'field':'type'},{'name':'CR','width':0x1,'field':'cr','rowClassName':_0x14f985(0x259)},{'name':_0x14f985(0x198),'width':0x1,'field':_0x14f985(0x135),'titleProp':_0x14f985(0x273),'displayProp':_0x14f985(0x234),'classNameProp':_0x14f985(0x1be),'rowClassName':_0x14f985(0x259)}],'rows':this[_0x14f985(0x124)][_0x14f985(0x13b)]((_0x6a41f6,_0x83d9e7)=>{const _0xa9a0ab=_0x14f985;return this[_0xa9a0ab(0x21d)][_0xa9a0ab(0x156)]['mutateForFilters'](_0x6a41f6),_0x6a41f6[_0xa9a0ab(0x1e3)]=_0x6a41f6[_0xa9a0ab(0x172)]||'â€”',{'name':_0x6a41f6[_0xa9a0ab(0x1f1)],'type':_0x6a41f6[_0xa9a0ab(0x233)][_0xa9a0ab(0x207)][_0xa9a0ab(0x19a)](),'cr':_0x6a41f6[_0xa9a0ab(0x1e3)],'source':_0x6a41f6[_0xa9a0ab(0x135)],'sourceShort':Parser[_0xa9a0ab(0x173)](_0x6a41f6[_0xa9a0ab(0x135)]),'sourceLong':Parser[_0xa9a0ab(0x14a)](_0x6a41f6[_0xa9a0ab(0x135)]),'sourceClassName':Parser[_0xa9a0ab(0x21a)](_0x6a41f6['source']),'ix':_0x83d9e7};})};}[_0x50ad95(0x186)](){const _0x3d369a=_0x50ad95;return{'fnGetName':_0x30ff64=>_0x30ff64[_0x3d369a(0x1f1)],'fnGetValues':_0x14584d=>({'source':_0x14584d[_0x3d369a(0x135)],'type':_0x14584d[_0x3d369a(0x233)]['asText'],'cr':_0x14584d['_vCr'],'group':_0x14584d[_0x3d369a(0x275)]||'','alias':(_0x14584d[_0x3d369a(0x1a7)]||[])[_0x3d369a(0x13b)](_0x5591c6=>'\x22'+_0x5591c6+'\x22')[_0x3d369a(0x1ac)](','),'hash':UrlUtil[_0x3d369a(0x244)][this[_0x3d369a(0x23d)]](_0x14584d)}),'fnGetData':UtilList2[_0x3d369a(0x184)],'fnBindListeners':_0x320f62=>UtilList2[_0x3d369a(0x179)](this[_0x3d369a(0x1ae)],_0x320f62)};}[_0x50ad95(0x149)](){const _0x4a5d26=_0x50ad95;this['_list'][_0x4a5d26(0x19b)](this[_0x4a5d26(0x124)],this[_0x4a5d26(0x186)]());}[_0x50ad95(0x153)](){const _0x19697d=_0x50ad95;return{...super[_0x19697d(0x153)](),'cr':{'label':_0x19697d(0x1c6),'getter':_0x2ab791=>_0x2ab791['cr']?_0x2ab791['cr']['cr']||_0x2ab791['cr']:'Unknown\x20CR'},'type':{'label':'Type','getter':_0x51d315=>Parser[_0x19697d(0x19d)](_0x51d315[_0x19697d(0x195)])[_0x19697d(0x195)][_0x19697d(0x1fe)]()},'typeTags':{'label':_0x19697d(0x183),'getter':_0x7562a5=>Parser[_0x19697d(0x19d)](_0x7562a5[_0x19697d(0x195)])[_0x19697d(0x207)][_0x19697d(0x19a)]()}};}[_0x50ad95(0x143)](_0xf716d3){const _0x1f1b20=_0x50ad95;if(!this[_0x1f1b20(0x1b1)])return _0xf716d3;return new Promise(_0xb11c82=>{const _0x44cb53=_0x1f1b20,_0x45f197=new ImportListCreature[(_0x44cb53(0x1d1))](_0xf716d3,_0xb11c82,{'titleSearch':this['_titleSearch']});_0x45f197[_0x44cb53(0x242)](!![]);});}async[_0x50ad95(0x17a)](_0x215a30,_0x2046f9,_0x289949){const _0x2f03bc=_0x50ad95,_0x2b8d1e={},_0x245ccd=await Renderer['utils'][_0x2f03bc(0x23e)]({'entity':_0x2046f9,'pFnPostProcess':Renderer[_0x2f03bc(0x1c4)][_0x2f03bc(0x181)][_0x2f03bc(0x145)](null,_0x2046f9),'fluffBaseUrl':_0x2f03bc(0x24c),'fluffProp':_0x2f03bc(0x1cc)}),_0x5d226f=new ImportListCreature[(_0x2f03bc(0x1b8))](_0x215a30,_0x2046f9,_0x245ccd);await this[_0x2f03bc(0x180)](_0x2046f9,_0x2b8d1e,_0x5d226f[_0x2f03bc(0x257)],{'isUseTokenImageAsPortrait':Config[_0x2f03bc(0x174)](_0x2f03bc(0x192),'isUseTokenImageAsPortrait')}),_0x2b8d1e[_0x2f03bc(0x169)]={};if(!_0x289949[_0x2f03bc(0x155)]&&!this[_0x2f03bc(0x1ad)]){const _0x2ebf02=await this[_0x2f03bc(0x22e)](_0x2046f9);if(_0x2ebf02)_0x2b8d1e[_0x2f03bc(0x1ba)]=_0x2ebf02;}return _0x2b8d1e[_0x2f03bc(0x131)]={'default':Config['get'](_0x2f03bc(0x192),_0x2f03bc(0x200))},this['_pImportEntry_fillData_Abilities'](_0x2046f9,_0x2b8d1e[_0x2f03bc(0x169)],_0x5d226f),await this[_0x2f03bc(0x248)](_0x2046f9,_0x2b8d1e,_0x5d226f),this[_0x2f03bc(0x18c)](_0x2046f9,_0x2b8d1e['data'],_0x5d226f),this['_pImportEntry_fillData_Skills'](_0x2046f9,_0x2b8d1e[_0x2f03bc(0x169)],_0x5d226f),this[_0x2f03bc(0x260)](_0x2046f9,_0x2b8d1e[_0x2f03bc(0x169)],_0x5d226f),this[_0x2f03bc(0x1d8)](_0x2046f9,_0x2b8d1e[_0x2f03bc(0x169)],_0x5d226f),this['_pImportEntry_fillData_Spells'](_0x2046f9,_0x2b8d1e[_0x2f03bc(0x169)],_0x5d226f),this[_0x2f03bc(0x1c2)](_0x2046f9,_0x2b8d1e[_0x2f03bc(0x169)],_0x5d226f),await this['_pImportEntry_pFillToken'](_0x2046f9,_0x2b8d1e,_0x2f03bc(0x192)),{'dataBuilderOpts':_0x5d226f,'actorData':_0x2b8d1e};}async[_0x50ad95(0x248)](_0x796470,_0x3a763e,_0x57a4e3){const _0x211719=_0x50ad95,_0x365e06=_0x3a763e[_0x211719(0x169)],_0x4ba090={};let _0x23c8c0=0xa;if(_0x796470['ac']&&_0x796470['ac'][_0x211719(0x1da)]){const _0x1d1731=_0x796470['ac'][0x0];if(typeof _0x1d1731===_0x211719(0x146))_0x23c8c0=_0x1d1731;else{if(typeof _0x1d1731['ac']===_0x211719(0x146))_0x23c8c0=_0x1d1731['ac'];}_0x23c8c0=await this[_0x211719(0x170)](_0x796470,_0x3a763e,_0x57a4e3,_0x23c8c0,_0x1d1731);}_0x4ba090['ac']={'min':0x0,'value':_0x23c8c0};let _0x513894=0x0,_0x297d58='';if(_0x796470['hp']){if(_0x796470['hp'][_0x211719(0x19f)])_0x513894=_0x796470['hp'][_0x211719(0x19f)];if(_0x796470['hp'][_0x211719(0x15d)])_0x297d58=_0x796470['hp'][_0x211719(0x15d)];}_0x4ba090['hp']={'value':_0x513894,'min':0x0,'max':_0x513894,'temp':0x0,'tempmax':0x0,'formula':_0x297d58},_0x4ba090['init']={'value':0x0,'mod':0x0,'bonus':0x0,'total':Parser['getAbilityModNumber'](_0x796470[_0x211719(0x212)]),'prof':0x0},_0x4ba090[_0x211719(0x171)]=_0x57a4e3['pb'],_0x4ba090[_0x211719(0x27a)]={'burrow':DataConverter[_0x211719(0x231)](_0x796470['speed'],'burrow'),'climb':DataConverter['getSpeedValue'](_0x796470['speed'],_0x211719(0x154)),'fly':DataConverter[_0x211719(0x231)](_0x796470['speed'],_0x211719(0x134)),'swim':DataConverter[_0x211719(0x231)](_0x796470[_0x211719(0x12c)],_0x211719(0x13f)),'walk':DataConverter[_0x211719(0x231)](_0x796470[_0x211719(0x12c)],_0x211719(0x1ab)),'units':'ft','hover':DataConverter[_0x211719(0x270)](_0x796470[_0x211719(0x12c)])},_0x4ba090[_0x211719(0x213)]=_0x57a4e3[_0x211719(0x16e)],_0x4ba090[_0x211719(0x1f8)]=_0x57a4e3['spellDc'],_0x4ba090[_0x211719(0x1ef)]={'darkvision':0x0,'blindsight':0x0,'tremorsense':0x0,'truesight':0x0,'units':'ft','special':''},_0x4ba090[_0x211719(0x1ef)][_0x211719(0x1b0)]=(_0x796470[_0x211719(0x1ef)]||[])['filter'](_0x28df5c=>{const _0x6a86a1=_0x211719,_0x128f8f=/(blindsight|darkvision|tremorsense|truesight)\s*(\d+)/i[_0x6a86a1(0x24f)](_0x28df5c);if(!_0x128f8f)return!![];const _0x5e5bf5=Number(_0x128f8f[0x2]);switch(_0x128f8f[0x1]){case _0x6a86a1(0x263):_0x4ba090[_0x6a86a1(0x1ef)][_0x6a86a1(0x263)]=_0x5e5bf5;break;case _0x6a86a1(0x196):_0x4ba090[_0x6a86a1(0x1ef)][_0x6a86a1(0x196)]=_0x5e5bf5;break;case _0x6a86a1(0x1c9):_0x4ba090[_0x6a86a1(0x1ef)][_0x6a86a1(0x1c9)]=_0x5e5bf5;break;case _0x6a86a1(0x278):_0x4ba090[_0x6a86a1(0x1ef)][_0x6a86a1(0x278)]=_0x5e5bf5;break;}return![];})[_0x211719(0x1ac)](',\x20'),_0x365e06[_0x211719(0x245)]=_0x4ba090;}async[_0x50ad95(0x170)](_0x8a736d,_0x5b9bc7,_0x45e481,_0x4750b8,_0xccbb81){const _0x5c060c=_0x50ad95;if(!_0xccbb81['from'])return _0x4750b8;const _0x5f2ff4=this['constructor']['_getItemHashesFromAcItem'](_0xccbb81);if(!_0x5f2ff4[_0x5c060c(0x1da)])return _0x4750b8;let _0xde9626=0xa,_0x2c79cc=0x0,_0x49e8cf=0x0;for(const _0x51a148 of _0x5f2ff4){const _0x37c6a2=await Renderer[_0x5c060c(0x133)][_0x5c060c(0x208)](UrlUtil[_0x5c060c(0x127)],_0x51a148);if(!_0x37c6a2)continue;let _0x114147=Number(_0x37c6a2['bonusAc']||0x0);if(isNaN(_0x114147))_0x114147=0x0;switch(_0x37c6a2[_0x5c060c(0x185)]||_0x37c6a2[_0x5c060c(0x195)]){case'HA':{_0xde9626=Math[_0x5c060c(0x128)](_0xde9626,(_0x37c6a2['ac']||0xa)+_0x114147);break;}case'MA':{_0xde9626=Math[_0x5c060c(0x128)](_0xde9626,(_0x37c6a2['ac']||0xa)+Math['min'](0x2,Parser['getAbilityModNumber'](_0x8a736d['dex']||0xa))+_0x114147);break;}case'LA':{_0xde9626=Math[_0x5c060c(0x128)](_0xde9626,(_0x37c6a2['ac']||0xa)+Parser['getAbilityModNumber'](_0x8a736d[_0x5c060c(0x212)]||0xa)+_0x114147);break;}case'S':{_0x2c79cc=Math['max'](_0x2c79cc,0x2+_0x114147);break;}default:{}}}const _0x4921f1=_0xde9626+_0x2c79cc+_0x49e8cf;return _0x4750b8!==_0x4921f1&&(_0x5b9bc7[_0x5c060c(0x251)]=_0x5b9bc7[_0x5c060c(0x251)]||[])[_0x5c060c(0x25f)]({'label':_0x5c060c(0x1de),'icon':'modules/'+SharedConsts[_0x5c060c(0x241)]+_0x5c060c(0x21e),'changes':[{'key':'data.attributes.ac.value','value':_0x4750b8-_0x4921f1,'mode':CONST[_0x5c060c(0x271)]['ADD'],'priority':0x7}],'flags':{}}),_0x4921f1;}[_0x50ad95(0x18c)](_0xd10363,_0x4d5e5a,_0x11665a){const _0x4dab23=_0x50ad95,_0x2660e0={};_0x2660e0[_0x4dab23(0x1f3)]=_0xd10363[_0x4dab23(0x1f3)]?Parser[_0x4dab23(0x1f6)](_0xd10363['alignment'])['toLowerCase']():'',_0x2660e0['biography']={'value':Config[_0x4dab23(0x174)](_0x4dab23(0x192),_0x4dab23(0x159))?this[_0x4dab23(0x1bf)](_0x11665a[_0x4dab23(0x257)]):''};_0x11665a[_0x4dab23(0x182)]||_0x11665a['spellClass']?_0x2660e0[_0x4dab23(0x25c)]={'level':_0x11665a[_0x4dab23(0x182)],'name':_0x11665a['spellClass']}:_0x2660e0['class']={};_0x2660e0[_0x4dab23(0x182)]=_0x11665a[_0x4dab23(0x182)],_0x2660e0[_0x4dab23(0x1b6)]='',_0x2660e0[_0x4dab23(0x195)]=Parser[_0x4dab23(0x19d)](_0xd10363['type'])['asText'],_0x2660e0[_0x4dab23(0x189)]=_0xd10363['environment']?_0xd10363[_0x4dab23(0x189)][_0x4dab23(0x1af)](SortUtil[_0x4dab23(0x1f5)])[_0x4dab23(0x13b)](_0x2e1ec3=>_0x2e1ec3['toTitleCase']())[_0x4dab23(0x1ac)](',\x20'):'';const _0x130315=Parser[_0x4dab23(0x214)](_0xd10363['cr']);_0x2660e0['cr']=_0x130315===0x64?0x0:_0x130315,_0x2660e0['xp']={'value':_0xd10363['cr']?Parser[_0x4dab23(0x218)](_0xd10363['cr'])||0x0:0x0},_0x2660e0[_0x4dab23(0x135)]=DataConverter[_0x4dab23(0x27c)](_0xd10363),_0x4d5e5a['details']=_0x2660e0;}[_0x50ad95(0x14e)](_0x368a6e,_0x5479de,_0x26df79){const _0x1ffae2=_0x50ad95;_0x5479de[_0x1ffae2(0x26e)]=DataConverterCreature[_0x1ffae2(0x1d7)](_0x368a6e,_0x5479de,_0x26df79);}[_0x50ad95(0x260)](_0x5a2ad0,_0x419f03,_0x148919){const _0x10054d=_0x50ad95,_0x21e680={};_0x21e680[_0x10054d(0x17f)]=UtilActors[_0x10054d(0x258)][_0x5a2ad0[_0x10054d(0x17f)]]||_0x10054d(0x203);const _0x425b76=new Set();let _0x20fcd3=[];_0x5a2ad0[_0x10054d(0x1a5)]&&_0x5a2ad0[_0x10054d(0x1a5)][_0x10054d(0x22d)](_0x533c24=>{const _0x262d46=_0x10054d,_0x4cf270=_0x533c24[_0x262d46(0x1b3)](),_0x75b326=_0x4cf270===_0x262d46(0x1a4)?_0x262d46(0x19c):_0x4cf270;if(UtilActors['VALID_LANGUAGES'][_0x262d46(0x269)](_0x75b326))_0x425b76[_0x262d46(0x279)](_0x75b326);else _0x425b76[_0x262d46(0x279)](_0x262d46(0x264)),_0x20fcd3[_0x262d46(0x25f)](_0x533c24);}),_0x21e680[_0x10054d(0x1a5)]={'value':[..._0x425b76],'custom':_0x20fcd3[_0x10054d(0x1dd)](Boolean)[_0x10054d(0x1ac)](';\x20')},this[_0x10054d(0x1df)](_0x5a2ad0,_0x21e680),_0x419f03[_0x10054d(0x138)]=_0x21e680;}[_0x50ad95(0x1d8)](_0x23c366,_0x216009,_0x27c3c4){const _0x296329=_0x50ad95;_0x216009[_0x296329(0x230)]={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}[_0x50ad95(0x267)](_0x32d3fb,_0x2d256b,_0x43a2fc){const _0x2cf84d=_0x50ad95;_0x2d256b[_0x2cf84d(0x240)]=DataConverterCreature[_0x2cf84d(0x12e)](_0x32d3fb,_0x2d256b,_0x43a2fc);}[_0x50ad95(0x1c2)](_0x1e2a2b,_0x16b75f,_0x46016d){const _0x15f378=_0x50ad95,_0x2bc897={};let _0xaed644=0x0;if(_0x1e2a2b[_0x15f378(0x176)])_0xaed644=_0x1e2a2b[_0x15f378(0x1a1)]||0x3;_0x2bc897[_0x15f378(0x194)]={'value':_0xaed644,'max':_0xaed644};let _0x188bf0=0x0;if(_0x1e2a2b[_0x15f378(0x147)]){const _0x539a63=_0x1e2a2b[_0x15f378(0x147)][_0x15f378(0x204)](_0x19a923=>/legendary resistance/gi[_0x15f378(0x1a8)](_0x19a923[_0x15f378(0x1f1)]||''));if(_0x539a63){const _0x1230de=/\((\d+)\/Day\)/i[_0x15f378(0x24f)](_0x539a63['name']);if(_0x1230de)_0x188bf0=Number(_0x1230de[0x1]);}}_0x2bc897[_0x15f378(0x18d)]={'value':_0x188bf0,'max':_0x188bf0},_0x2bc897[_0x15f378(0x1e8)]={'value':!!(_0x46016d[_0x15f378(0x1f7)]&&_0x46016d[_0x15f378(0x1f7)][_0x15f378(0x141)]),'initiative':0x14},_0x16b75f[_0x15f378(0x144)]=_0x2bc897;}async[_0x50ad95(0x12d)](_0x1f023c,_0x30daa9,_0x1d71dc,_0x38c4a1){const _0x5bbc49=_0x50ad95;await this[_0x5bbc49(0x18a)](_0x1f023c,_0x30daa9,_0x1d71dc),await this[_0x5bbc49(0x132)](_0x1f023c,_0x30daa9,_0x1d71dc,{'prop':_0x5bbc49(0x147),'fnPreProcess':_0x300d51=>{const _0x214721=_0x5bbc49;if(!/legendary resistance/gi[_0x214721(0x1a8)](_0x300d51[_0x214721(0x1f1)]||''))return;_0x300d51[_0x214721(0x14b)]=!![];}},{'consumeType':_0x8936ab=>_0x8936ab[_0x5bbc49(0x14b)]?_0x5bbc49(0x211):null,'consumeTarget':_0xada7ea=>_0xada7ea[_0x5bbc49(0x14b)]?_0x5bbc49(0x27d):null,'consumeAmount':_0x477d17=>_0x477d17[_0x5bbc49(0x14b)]?0x1:null}),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x1f023c,_0x30daa9,_0x1d71dc,{'prop':_0x5bbc49(0x162)},{'activationType':_0x5bbc49(0x162),'activationCost':0x1}),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x1f023c,_0x30daa9,_0x1d71dc,{'prop':_0x5bbc49(0x177)},{'activationType':'reaction','activationCost':0x1}),await this[_0x5bbc49(0x16f)](_0x1f023c,_0x30daa9,_0x1d71dc),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x1f023c,_0x30daa9,_0x1d71dc,{'prop':_0x5bbc49(0x176),'fnPreProcess':_0x2fbd3d=>{const _0x13a4bc=_0x5bbc49;_0x2fbd3d[_0x13a4bc(0x202)]=0x1,_0x2fbd3d[_0x13a4bc(0x1f1)]&&(_0x2fbd3d['name']=_0x2fbd3d[_0x13a4bc(0x1f1)][_0x13a4bc(0x254)](/\(costs (\d+) actions?\)/i,(..._0x3c8258)=>{const _0x28d451=_0x13a4bc;return _0x2fbd3d[_0x28d451(0x202)]=Number(_0x3c8258[0x1]),'';})['trim']());}},{'activationType':_0x5bbc49(0x176),'activationCost':_0x469aa0=>_0x469aa0[_0x5bbc49(0x202)],'consumeType':'attribute','consumeTarget':_0x5bbc49(0x142),'consumeAmount':_0x50042b=>_0x50042b[_0x5bbc49(0x202)]}),await this[_0x5bbc49(0x24d)](_0x1f023c,_0x30daa9,_0x1d71dc),await this[_0x5bbc49(0x225)](_0x1f023c,_0x30daa9,_0x1d71dc),await this[_0x5bbc49(0x22f)](_0x1f023c,_0x30daa9,_0x1d71dc);const _0x1938a3=_0x38c4a1[_0x5bbc49(0x155)]||this['_pack']!=null;await this[_0x5bbc49(0x1e0)](_0x1f023c,_0x30daa9,_0x1938a3,_0x1d71dc),await UtilActors['pAddActorItems'](_0x1d71dc[_0x5bbc49(0x26c)],_0x1d71dc[_0x5bbc49(0x1a9)],_0x1938a3);}[_0x50ad95(0x20f)](_0x3e228f,_0x1050b7,_0x17d254,_0x53f9a5,_0x37966c){const _0x19f647=_0x50ad95;_0x1050b7[_0x19f647(0x1a9)]['push'](DataConverter['getItemActorPassive'](_0x53f9a5,{..._0x37966c,'mode':_0x19f647(0x256),'pb':_0x1050b7[_0x19f647(0x23f)],'entity':_0x3e228f,'source':_0x3e228f['source'],'actor':{'data':_0x17d254}}));}async[_0x50ad95(0x16f)](_0x2a474c,_0x2711ee,_0x4b068d){const _0x5f1fb7=_0x50ad95;let _0x9d5da4=0x0;if(_0x2a474c[_0x5f1fb7(0x176)])_0x9d5da4=_0x2a474c[_0x5f1fb7(0x1a1)]||0x3;if(!_0x9d5da4)return;const _0x176339=_0x5f1fb7(0x1c3)+Renderer[_0x5f1fb7(0x1c4)]['getLegendaryActionIntro'](_0x2a474c)+_0x5f1fb7(0x129),_0x5ebb77=await DataConverterCreature['pGetTraitReactionLegendaryImage'](_0x2a474c,{'name':_0x5f1fb7(0x232)},_0x4b068d);_0x4b068d['items']['push'](DataConverter[_0x5f1fb7(0x1b4)]({'name':_0x5f1fb7(0x232)},{'fvttType':'feat','description':_0x176339,'mode':'creature','pb':_0x4b068d[_0x5f1fb7(0x23f)],'entity':_0x2a474c,'source':_0x2a474c[_0x5f1fb7(0x135)],'actor':{'data':_0x2711ee},'img':_0x5ebb77}));}async[_0x50ad95(0x132)](_0x2ce41c,_0x136901,_0x52124f,_0x198b49,_0x90cd6){const _0x580fb0=_0x50ad95;_0x90cd6=_0x90cd6||{};if(!_0x2ce41c[_0x198b49['prop']])return;for(let _0x36ef76 of _0x2ce41c[_0x198b49[_0x580fb0(0x210)]]){_0x198b49[_0x580fb0(0x15b)]&&(_0x36ef76=MiscUtil[_0x580fb0(0x1d4)](_0x36ef76),_0x198b49['fnPreProcess'](_0x36ef76));const _0x1f421d={};Object[_0x580fb0(0x1bc)](_0x90cd6)[_0x580fb0(0x22d)](([_0x22d153,_0x5d3e1e])=>{const _0x793163=_0x580fb0;if(typeof _0x5d3e1e===_0x793163(0x262))_0x1f421d[_0x22d153]=_0x5d3e1e(_0x36ef76);else _0x1f421d[_0x22d153]=MiscUtil[_0x793163(0x1d4)](_0x5d3e1e);});const _0x183dd1=await DataConverterCreature[_0x580fb0(0x1eb)](_0x2ce41c,_0x36ef76,_0x52124f,{'isLegendary':_0x198b49[_0x580fb0(0x210)]===_0x580fb0(0x176)});this[_0x580fb0(0x20f)](_0x2ce41c,_0x52124f,_0x136901,_0x36ef76,{..._0x1f421d,'fvttType':_0x580fb0(0x139),'img':_0x183dd1});}}static['_getLairActionName'](_0x130404){const _0xeb3515=_0x50ad95,_0x440d22=Renderer[_0xeb3515(0x221)](_0x130404);let _0x588781=_0xeb3515(0x1f0);const _0x8e31c9=_0x440d22[_0xeb3515(0x27f)]('\x20');for(const _0x138150 of _0x8e31c9){if(_0x588781[_0xeb3515(0x1da)]+_0x138150[_0xeb3515(0x1da)]<0x32)_0x588781+=_0x138150+'\x20';else break;}if(_0x440d22[_0xeb3515(0x1da)]>_0x588781[_0xeb3515(0x20d)]()['length'])_0x588781+='...';else _0x588781=_0x588781[_0xeb3515(0x20d)]();return _0x588781;}async[_0x50ad95(0x24d)](_0x54c669,_0x5a26f7,_0x13c18e){const _0x3d3989=_0x50ad95;if(!_0x13c18e[_0x3d3989(0x1f7)]?.[_0x3d3989(0x141)])return;const _0x3d380f=_0x13c18e[_0x3d3989(0x1f7)][_0x3d3989(0x141)],_0x100987=_0x3d380f['find'](_0x1d47c4=>_0x1d47c4[_0x3d3989(0x195)]===_0x3d3989(0x205));if(_0x100987)for(let _0x499e72=0x0;_0x499e72<_0x100987[_0x3d3989(0x1a9)][_0x3d3989(0x1da)];++_0x499e72){const _0x4ca3e2=_0x100987['items'][_0x499e72];await this[_0x3d3989(0x227)](_0x54c669,_0x5a26f7,_0x13c18e,_0x4ca3e2,_0x499e72);}else await this[_0x3d3989(0x227)](_0x54c669,_0x5a26f7,_0x13c18e,_0x3d380f);}async[_0x50ad95(0x227)](_0x3de7e2,_0x176bee,_0x39f491,_0x182ff3,_0x5b5f22){const _0x2fb69b=_0x50ad95;if(_0x182ff3 instanceof Array)typeof _0x182ff3[0x0]===_0x2fb69b(0x14f)?_0x182ff3={'type':_0x2fb69b(0x1bc),'name':this[_0x2fb69b(0x156)][_0x2fb69b(0x157)](_0x182ff3[0x0]),'entries':_0x182ff3}:_0x182ff3={'type':_0x2fb69b(0x1bc),'name':_0x2fb69b(0x1a0)+(_0x5b5f22!=null?'\x20'+(_0x5b5f22+0x1):''),'entries':_0x182ff3};else{if(typeof _0x182ff3===_0x2fb69b(0x14f))_0x182ff3={'type':_0x2fb69b(0x1bc),'name':this[_0x2fb69b(0x156)][_0x2fb69b(0x157)](_0x182ff3),'entries':[_0x182ff3]};else throw new Error(_0x2fb69b(0x137));}const _0x287668=JSON[_0x2fb69b(0x1e9)](_0x182ff3),{saveAbility:_0x236619,saveScaling:_0x473178,saveDc:_0x3de623}=this[_0x2fb69b(0x235)](_0x3de7e2,_0x39f491['assumedPb'],_0x287668),_0x31d74e=typeof _0x182ff3[_0x2fb69b(0x1bc)][0x0]===_0x2fb69b(0x14f)?DataConverter[_0x2fb69b(0x161)](_0x182ff3['entries'][0x0])[_0x2fb69b(0x188)]:[],_0x42f2a8=this[_0x2fb69b(0x152)](_0x31d74e),_0x6b7d86=await DataConverterCreature[_0x2fb69b(0x1ca)](_0x3de7e2,{'name':_0x2fb69b(0x191)},_0x39f491);this[_0x2fb69b(0x20f)](_0x3de7e2,_0x39f491,_0x176bee,_0x182ff3,{'fvttType':_0x2fb69b(0x139),'activationType':_0x2fb69b(0x1e8),'activationCost':0x1,'img':_0x6b7d86,'saveAbility':_0x236619,'saveDc':_0x3de623,'saveScaling':_0x473178,'damageParts':_0x42f2a8});}async[_0x50ad95(0x225)](_0x4fda9f,_0x5ab71f,_0x4ace26){const _0x182d09=_0x50ad95;if(!_0x4ace26[_0x182d09(0x1f7)]?.[_0x182d09(0x25b)])return;const _0x1edd59={'type':_0x182d09(0x1bc),'name':_0x182d09(0x19e),'entries':MiscUtil[_0x182d09(0x1d4)](_0x4ace26[_0x182d09(0x1f7)]['regionalEffects'])},_0x395a36=await DataConverterCreature['pGetLairActionImage'](_0x4fda9f,_0x1edd59,_0x4ace26);this[_0x182d09(0x20f)](_0x4fda9f,_0x4ace26,_0x5ab71f,_0x1edd59,{'fvttType':_0x182d09(0x139),'img':_0x395a36});}async[_0x50ad95(0x18a)](_0x2d0927,_0x437f9c,_0xb3de1b){const _0x36a6cc=_0x50ad95;if(!_0x2d0927['action'])return;for(const _0x55ae0e of _0x2d0927[_0x36a6cc(0x1e1)]){const _0x1e21b4=this[_0x36a6cc(0x26a)](_0x55ae0e,_0xb3de1b);for(const _0x3bbe3d of _0x1e21b4){await this[_0x36a6cc(0x1e4)](_0x2d0927,_0x437f9c,_0x3bbe3d,_0xb3de1b);}}}[_0x50ad95(0x26a)](_0x1825ce,_0x4ea93c){const _0x56ac06=_0x50ad95;if(!_0x1825ce[_0x56ac06(0x1f1)]||!_0x1825ce[_0x56ac06(0x1bc)])return[_0x1825ce];if(_0x1825ce[_0x56ac06(0x1bc)][_0x56ac06(0x1da)]===0x2&&typeof _0x1825ce['entries'][0x0]===_0x56ac06(0x14f)&&_0x1825ce[_0x56ac06(0x1bc)][0x0]['includes']('following\x20breath\x20weapon')&&_0x1825ce[_0x56ac06(0x1bc)][0x1][_0x56ac06(0x195)]===_0x56ac06(0x205)&&_0x1825ce[_0x56ac06(0x1bc)][0x1][_0x56ac06(0x1a9)][_0x56ac06(0x21f)](_0x1498e9=>_0x1498e9[_0x56ac06(0x1f1)]&&_0x1498e9[_0x56ac06(0x17b)])){const _0x2a6a19=[],_0x1f57dc=CryptUtil[_0x56ac06(0x1f4)](),_0x54a0eb=_0x1825ce['entries'][0x1]['items'][_0x56ac06(0x13b)](_0x388782=>{const _0x344f4f=_0x56ac06,_0x55aecb=_0x388782[_0x344f4f(0x1f1)][_0x344f4f(0x254)](/\.\s*$/,''),_0x387de8=_0x344f4f(0x1db)+_0x55aecb,_0x156ddd=CryptUtil[_0x344f4f(0x1f4)]();return _0x4ea93c['postItemItemUpdates'][_0x344f4f(0x25f)](async({actor:_0x1d5427,isTemp:_0x2587e3,isPack:_0x1125d4,pack:_0x5f514a})=>{const _0x4adf39=_0x344f4f;if(_0x2587e3)return;const _0x44dd09=_0x1d5427[_0x4adf39(0x169)]['items'][_0x4adf39(0x204)](_0x2c91b5=>_0x2c91b5[_0x4adf39(0x268)]?.[SharedConsts['MODULE_NAME']]?.[_0x4adf39(0x1d0)]===_0x1f57dc);if(!_0x44dd09)return console[_0x4adf39(0x1d6)](...LGT,_0x4adf39(0x1b7)+_0x388782[_0x4adf39(0x1f1)]+'\x22');const _0x432f84=_0x1d5427['data'][_0x4adf39(0x1a9)][_0x4adf39(0x204)](_0x39f0ce=>_0x39f0ce[_0x4adf39(0x268)]?.[SharedConsts[_0x4adf39(0x241)]]?.[_0x4adf39(0x1d0)]===_0x156ddd);if(!_0x432f84)return console[_0x4adf39(0x1d6)](...LGT,_0x4adf39(0x1cf)+_0x388782[_0x4adf39(0x1f1)]+'\x22');if(_0x1125d4){MiscUtil[_0x4adf39(0x140)](_0x432f84,_0x4adf39(0x169),'consume','target',_0x44dd09[_0x4adf39(0x1ec)]||_0x44dd09['id']);const _0x30b948=MiscUtil['copy'](_0x1d5427[_0x4adf39(0x169)]);await _0x5f514a[_0x4adf39(0x1f2)](_0x30b948);}else{const _0x1eb4b6={'_id':_0x432f84[_0x4adf39(0x1ec)],'data':{'consume':{'target':_0x44dd09[_0x4adf39(0x1ec)]||_0x44dd09['id']}}};await _0x1d5427['updateEmbeddedEntity'](_0x4adf39(0x199),_0x1eb4b6);}}),{'name':_0x387de8,'_plut_cleanName':_0x55aecb,'entries':[_0x388782[_0x344f4f(0x17b)]],'_foundryData':{'consume.type':'charges','consume.amount':0x1},'_foundryFlags':{[SharedConsts[_0x344f4f(0x241)]]:{'_tmpItemId':_0x156ddd}}};});return _0x2a6a19[_0x56ac06(0x25f)]({'name':_0x1825ce[_0x56ac06(0x1f1)],'entries':[_0x1825ce[_0x56ac06(0x1bc)][0x0][_0x56ac06(0x20d)]()[_0x56ac06(0x254)](/[.,!?:]$/,'')+':\x20'+_0x54a0eb[_0x56ac06(0x13b)](_0x561f54=>_0x561f54['_plut_cleanName'])[_0x56ac06(0x175)](',\x20',_0x56ac06(0x17c))],'_foundryFlags':{[SharedConsts[_0x56ac06(0x241)]]:{'_tmpItemId':_0x1f57dc}}}),_0x54a0eb[_0x56ac06(0x22d)](_0x2519a0=>delete _0x2519a0[_0x56ac06(0x1ff)]),_0x2a6a19[_0x56ac06(0x25f)](..._0x54a0eb),_0x2a6a19;}if(/^eye ray/gi[_0x56ac06(0x1a8)](_0x1825ce[_0x56ac06(0x1f1)])&&_0x1825ce[_0x56ac06(0x1bc)][_0x56ac06(0x204)](_0x4dda16=>_0x4dda16[_0x56ac06(0x195)]===_0x56ac06(0x205)&&(_0x4dda16['items']||[])[_0x56ac06(0x21f)](_0x3389ac=>_0x3389ac['type']===_0x56ac06(0x223)))){const _0x28ccd6=[],_0x3a8215=MiscUtil[_0x56ac06(0x1d4)](_0x1825ce),_0x2979b1=_0x1825ce['entries']['findIndex'](_0x518312=>_0x518312[_0x56ac06(0x195)]===_0x56ac06(0x205)&&(_0x518312[_0x56ac06(0x1a9)]||[])[_0x56ac06(0x21f)](_0x220038=>_0x220038[_0x56ac06(0x195)]===_0x56ac06(0x223))),_0x402fad=_0x1825ce[_0x56ac06(0x1bc)][_0x2979b1];return _0x3a8215[_0x56ac06(0x1bc)][_0x56ac06(0x13a)](_0x2979b1,0x1),_0x28ccd6[_0x56ac06(0x25f)](_0x3a8215),_0x402fad['items']['forEach'](_0x2565d4=>{const _0x27d317=_0x56ac06,_0x13b4c9={..._0x2565d4,'type':_0x27d317(0x1bc),'name':_0x27d317(0x219)+_0x2565d4[_0x27d317(0x1f1)]['replace'](/[.,!:?]\\s*$/,'')};_0x13b4c9['entry']&&(_0x13b4c9[_0x27d317(0x1bc)]=[_0x13b4c9[_0x27d317(0x17b)]],delete _0x13b4c9[_0x27d317(0x17b)]),delete _0x13b4c9['style'],_0x28ccd6['push'](_0x13b4c9);}),_0x28ccd6;}return[_0x1825ce];}async['_pImportEntry_pFillItems_pAction'](_0x26a0bb,_0x5049a8,_0x2e5ffd,_0x386a8d){const _0x3112d7=_0x50ad95,_0x51455c=DataConverter[_0x3112d7(0x1f9)](_0x2e5ffd),_0x4f0b1c=_0x2e5ffd[_0x3112d7(0x1bc)]?JSON['stringify'](_0x2e5ffd[_0x3112d7(0x1bc)]):null,{damageTuples:_0x38c380,offensiveAbility:_0x511055,isAttack:_0xb29d0f,rangeShort:_0xe2f1,rangeLong:_0x398c8d,actionType:_0x55b9a3,isProficient:_0x47a669,attackBonus:_0x389860,_foundryData:_0x42e889,foundryData:_0x48e4c2,_foundryFlags:_0x443979,foundryFlags:_0x378aa8,img:_0x2d111c}=await DataConverterCreature[_0x3112d7(0x123)](_0x26a0bb,_0x2e5ffd,_0x386a8d),_0x110c9e=[];_0x110c9e['push'](...this[_0x3112d7(0x152)](_0x38c380,_0x26a0bb[_0x511055]));const {saveAbility:_0x2ab594,saveScaling:_0x33093c,saveDc:_0x34b169}=this[_0x3112d7(0x235)](_0x26a0bb,_0x386a8d[_0x3112d7(0x23f)],_0x4f0b1c);_0xb29d0f?await this[_0x3112d7(0x20e)](_0x26a0bb,_0x5049a8,_0x2e5ffd,_0x386a8d,{'offensiveAbility':_0x511055,'damageParts':_0x110c9e,'rangeShort':_0xe2f1,'rangeLong':_0x398c8d,'actionType':_0x55b9a3,'isProficient':_0x47a669,'description':_0x51455c,'saveAbility':_0x2ab594,'saveDc':_0x34b169,'saveScaling':_0x33093c,'attackBonus':_0x389860,'_foundryData':_0x42e889,'foundryData':_0x48e4c2,'_foundryFlags':_0x443979,'foundryFlags':_0x378aa8,'img':_0x2d111c}):this[_0x3112d7(0x20f)](_0x26a0bb,_0x386a8d,_0x5049a8,_0x2e5ffd,{'fvttType':'feat','activationType':'action','activationCost':0x1,'description':_0x51455c,'saveAbility':_0x2ab594,'saveDc':_0x34b169,'saveScaling':_0x33093c,'damageParts':_0x110c9e,'attackBonus':_0x389860,'_foundryData':_0x42e889,'foundryData':_0x48e4c2,'_foundryFlags':_0x443979,'foundryFlags':_0x378aa8,'img':_0x2d111c});}[_0x50ad95(0x235)](_0x298a2e,_0x33bb58,_0x3b061a){const _0xc83031=_0x50ad95;if(!_0x3b061a)return MiscUtil[_0xc83031(0x1d4)](ImportListCreature[_0xc83031(0x1ce)]);let {saveAbility:_0x2930a3,saveScaling:_0x51668c,saveDc:_0x3fc1a1}=MiscUtil['copy'](ImportListCreature[_0xc83031(0x1ce)]);const _0x2c3715=/(?:{@dc (\d+)}|DC\s*(\d+))\s*(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i[_0xc83031(0x24f)](_0x3b061a);if(_0x2c3715){_0x3fc1a1=Number(_0x2c3715[0x1]||_0x2c3715[0x2]),_0x2930a3=_0x2c3715[0x3][_0xc83031(0x1b3)]()[_0xc83031(0x16d)](0x0,0x3),_0x51668c='flat';if(_0x33bb58&&0x1===0x2){const _0x3e2c54=_0x3fc1a1-_0x33bb58-0x8;for(const _0x468276 of[_0xc83031(0x21c),'wis','int',_0xc83031(0x274),_0xc83031(0x212),_0xc83031(0x253)]){const _0x1bf10e=Parser[_0xc83031(0x281)](_0x298a2e[_0x468276]);if(_0x1bf10e===_0x3e2c54){_0x51668c=_0x468276;break;}}}}return{'saveAbility':_0x2930a3,'saveScaling':_0x51668c,'saveDc':_0x3fc1a1};}[_0x50ad95(0x152)](_0xe6c550,_0x159907){const _0x28900a=_0x50ad95;if(!_0xe6c550['length'])return[];return _0xe6c550=MiscUtil['copy'](_0xe6c550),_0x159907&&_0xe6c550[_0x28900a(0x22d)](_0x246660=>{const _0x5148fd=_0x28900a,_0x920cdf=Parser[_0x5148fd(0x281)](_0x159907),_0x2d9233=/(\d+d\d+\s*)([-+]\s*\d+)([ -+].*)?$/[_0x5148fd(0x24f)](_0x246660[0x0]);if(!_0x2d9233)return;const _0x1e6923=Number(_0x2d9233[0x2][_0x5148fd(0x254)](/\s*/g,''));if(_0x1e6923===_0x920cdf)_0x246660[0x0]=_0x2d9233[0x1]+_0x5148fd(0x1fc)+(_0x2d9233[0x3]||'');}),_0xe6c550['filter'](_0xa0697=>_0xa0697['length']);}async[_0x50ad95(0x20e)](_0x12a79e,_0x489107,_0x108c38,_0x770d69,{offensiveAbility:_0xf0fb6a,damageParts:_0x20d2d4,rangeShort:_0x2982fa,rangeLong:_0x23689b,actionType:_0x5cfc87,isProficient:_0x27a8d7,description:_0x4f5404,saveAbility:_0x2be354,saveDc:_0x43bddc,saveScaling:_0x57e70e,attackBonus:_0x1708a9,_foundryData:_0x408090,foundryData:_0xd83a63,_foundryFlags:_0x1dfa1a,foundryFlags:_0x248258,img:_0x438e18}){const _0x5108d5=_0x50ad95,_0x2df173=await DataConverterItem['pGetActionWeaponDetails'](_0x12a79e['size'],_0x108c38,_0x20d2d4),_0x1b901e=DataConverter[_0x5108d5(0x22c)](_0xd83a63,_0x408090),_0x2fef70=DataConverter['getCombinedFoundryFlags'](_0x248258,_0x1dfa1a),_0xb1a47b={'name':UtilApplications[_0x5108d5(0x1c1)](Renderer['stripTags'](_0x108c38[_0x5108d5(0x1f1)]||'')||'\x20'),'type':_0x5108d5(0x276),'data':{'source':DataConverter[_0x5108d5(0x27c)](_0x12a79e),'description':{'value':_0x4f5404},'damage':{'parts':_0x2df173[_0x5108d5(0x17d)],'versatile':_0x2df173[_0x5108d5(0x25e)]},'range':{'value':_0x2982fa,'long':_0x23689b,'units':'ft'},'actionType':_0x5cfc87,'proficient':_0x27a8d7,'quantity':0x1,'weight':_0x2df173[_0x5108d5(0x252)],'price':_0x2df173[_0x5108d5(0x14d)],'rarity':_0x2df173[_0x5108d5(0x1b9)],'weaponType':_0x2df173['weaponType'],'properties':_0x2df173[_0x5108d5(0x1ed)],'attuned':_0x2df173[_0x5108d5(0x15c)],'ability':_0xf0fb6a,'equipped':!![],'identified':_0x2df173[_0x5108d5(0x163)],'activation':{'type':_0x5108d5(0x1e1),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'uses':{'value':0x0,'max':0x0,'per':null},'attackBonus':_0x1708a9||_0x2df173['attackBonus']||0x0,'chatFlavor':'','critical':null,'formula':'','save':{'ability':_0x2be354,'dc':_0x43bddc,'scaling':_0x57e70e},..._0x1b901e||{}},'img':_0x2df173[_0x5108d5(0x22b)]||_0x438e18,'flags':{..._0x2fef70||{}}};_0x770d69[_0x5108d5(0x1a9)][_0x5108d5(0x25f)](_0xb1a47b);}static['_getItemHashesFromAcItem'](_0x5f34a0){const _0x31da97=_0x50ad95,_0x5a3109=[];if(!_0x5f34a0['from']||!_0x5f34a0[_0x31da97(0x164)][_0x31da97(0x1da)])return _0x5a3109;return _0x5f34a0[_0x31da97(0x164)]['forEach'](_0x2e86e2=>{const _0x2638fd=_0x31da97;_0x2e86e2[_0x2638fd(0x254)](/{@item ([^}]+)}/gi,(..._0x288db0)=>{const _0x9c3643=_0x2638fd,[_0x285182,_0x4dec1d]=_0x288db0[0x1][_0x9c3643(0x20d)]()[_0x9c3643(0x1b3)]()[_0x9c3643(0x27f)]('|'),_0x3de3b5=UrlUtil[_0x9c3643(0x244)][UrlUtil[_0x9c3643(0x127)]]({'name':_0x285182,'source':_0x4dec1d||SRC_DMG});if(!_0x5a3109[_0x9c3643(0x269)](_0x3de3b5))_0x5a3109[_0x9c3643(0x25f)](_0x3de3b5);});}),_0x5a3109;}async[_0x50ad95(0x22f)](_0x2a7306,_0x249b4e,_0xf8269b){const _0x28a51b=_0x50ad95;if(!_0x2a7306['ac'])return;const _0x5c7d69=new Set(),_0x5e7f4c=new Set();_0x2a7306['ac']['forEach']((_0x28e974,_0x283c5e)=>{const _0x4be167=_0x1ad9,_0x46d48c=this[_0x4be167(0x156)][_0x4be167(0x1c0)](_0x28e974);_0x46d48c[_0x4be167(0x22d)](_0x4adccc=>_0x5c7d69['add'](_0x4adccc));if(_0x283c5e===0x0)_0x46d48c[_0x4be167(0x22d)](_0x17fb26=>_0x5e7f4c['add'](_0x17fb26));});for(const _0xadcbb of _0x5c7d69){const _0x56efba=await Renderer[_0x28a51b(0x133)]['pCacheAndGetHash'](UrlUtil[_0x28a51b(0x127)],_0xadcbb);if(!_0x56efba)continue;await this['_pImportEntry_pFillItems_pAddItem'](_0x2a7306,_0x249b4e,_0x56efba,_0xf8269b,{'isEquipped':_0x5e7f4c[_0x28a51b(0x222)](_0xadcbb)});}}async[_0x50ad95(0x130)](_0x596fdd,_0x3d3312,_0x52771f,_0xb811d2,_0x2a21d1){const _0x2ba8f3=_0x50ad95;_0x2a21d1=_0x2a21d1||{};const _0x398bc0=await Renderer[_0x2ba8f3(0x223)]['pGetFluff'](_0x52771f),_0x21d802=await DataConverterItem[_0x2ba8f3(0x224)](_0x52771f,{'fluff':_0x398bc0,'size':_0x596fdd[_0x2ba8f3(0x17f)],'isEquipped':_0x2a21d1[_0x2ba8f3(0x1b2)]});_0xb811d2[_0x2ba8f3(0x1a9)][_0x2ba8f3(0x25f)](_0x21d802);}async['_pImportEntry_pFillItems_pSpellcasting'](_0x189ced,_0x166a5b,_0x41ac60,_0x25b220){const _0x3d480c=_0x50ad95;if(!_0x189ced[_0x3d480c(0x213)])return;const _0x3fbf2a={},_0x140dec=_0x33a352=>{const _0xfe00ed=_0x3d480c;Object[_0xfe00ed(0x1bc)](_0x33a352)['forEach'](([_0x5261c3,_0x21a86e])=>{_0x3fbf2a[_0x5261c3]=_0x3fbf2a[_0x5261c3]||_0x21a86e;});},_0x120348=!![],_0x57a4cc=[];for(const _0xd30711 of _0x189ced[_0x3d480c(0x213)]){const _0x236676=MiscUtil[_0x3d480c(0x1d4)](_0xd30711);if(_0x236676['spells']){const _0x57f363=Object[_0x3d480c(0x15a)](_0x236676[_0x3d480c(0x240)]);for(const _0xe5acbf of _0x57f363){const _0x3d8aff=_0x236676[_0x3d480c(0x240)][_0xe5acbf],_0x385c90=_0x3d8aff[_0x3d480c(0x209)]!=null?_0x3d480c(0x1dc):_0x3d480c(0x1d3),_0x41a50b=await DataConverterSpell[_0x3d480c(0x20a)](_0x25b220[_0x3d480c(0x26c)],JSON[_0x3d480c(0x1e9)](_0x3d8aff[_0x3d480c(0x240)]),{'isTemporary':_0x41ac60,'optsGetSpellItem':{'casterLevel':_0x25b220['spellLevel'],'abilityAbv':_0x25b220[_0x3d480c(0x16e)],'isPrepared':_0x120348,'preparationMode':_0x385c90}});_0x140dec(_0x41a50b);}delete _0x236676[_0x3d480c(0x240)];}_0x236676['weekly']&&await this[_0x3d480c(0x23c)](_0x25b220,_0x236676,_0x3d480c(0x13e),_0x140dec,{'isTemporary':_0x41ac60,'isPrepared':_0x120348,'usesPer':_0x3d480c(0x12a)});_0x236676[_0x3d480c(0x1d9)]&&await this[_0x3d480c(0x23c)](_0x25b220,_0x236676,_0x3d480c(0x1d9),_0x140dec,{'isTemporary':_0x41ac60,'isPrepared':_0x120348,'usesPer':_0x3d480c(0x1d5)});_0x236676['rest']&&await this[_0x3d480c(0x23c)](_0x25b220,_0x236676,_0x3d480c(0x1d9),_0x140dec,{'isTemporary':_0x41ac60,'isPrepared':_0x120348,'usesPer':'sr'});if(_0x236676[_0x3d480c(0x238)]){const _0x1dfc16='innate',_0x16848a=await DataConverterSpell[_0x3d480c(0x20a)](_0x25b220[_0x3d480c(0x26c)],JSON['stringify'](_0x236676['will']),{'isTemporary':_0x41ac60,'optsGetSpellItem':{'casterLevel':_0x25b220[_0x3d480c(0x182)],'abilityAbv':_0x25b220[_0x3d480c(0x16e)],'isPrepared':_0x120348,'preparationMode':_0x1dfc16}});_0x140dec(_0x16848a),delete _0x236676[_0x3d480c(0x238)];}if(_0x236676[_0x3d480c(0x220)]){const _0x1a0bd6=_0x3d480c(0x249),_0x29916a=await DataConverterSpell[_0x3d480c(0x20a)](_0x25b220[_0x3d480c(0x26c)],JSON[_0x3d480c(0x1e9)](_0x236676[_0x3d480c(0x220)]),{'isTemporary':_0x41ac60,'optsGetSpellItem':{'casterLevel':_0x25b220['spellLevel'],'abilityAbv':_0x25b220['spellAbility'],'isPrepared':_0x120348,'preparationMode':_0x1a0bd6,'durationAmount':null,'durationUnit':_0x3d480c(0x136)}});_0x140dec(_0x29916a),delete _0x236676['constant'];}_0x57a4cc['push'](_0x236676);}await DataConverterSpell['pGetSpellHashToItemPosMapAndFillSpells'](_0x25b220[_0x3d480c(0x26c)],JSON[_0x3d480c(0x1e9)](_0x57a4cc),{'isTemporary':_0x41ac60,'hashToIdMap':_0x3fbf2a,'optsGetSpellItem':{'casterLevel':_0x25b220['spellLevel'],'abilityAbv':_0x25b220[_0x3d480c(0x16e)]}});const _0x408c7f=DataConverterSpell[_0x3d480c(0x1e5)][_0x3d480c(0x145)](null,_0x25b220['actor']['id'],_0x3fbf2a);Renderer[_0x3d480c(0x174)]()[_0x3d480c(0x1fd)](_0x3d480c(0x226),_0x3d480c(0x24a),_0x408c7f);const _0x27b80f=Renderer[_0x3d480c(0x1c4)][_0x3d480c(0x197)](_0x189ced,Renderer['get']());for(const _0x5ec875 of _0x27b80f){const _0x150a78=await DataConverterCreature['pGetSpellcastingImage'](_0x189ced,_0x5ec875,_0x25b220);this[_0x3d480c(0x20f)](_0x189ced,_0x25b220,_0x166a5b,_0x5ec875,{'fvttType':_0x3d480c(0x139),'img':_0x150a78,'description':_0x5ec875[_0x3d480c(0x158)]});}Renderer[_0x3d480c(0x174)]()[_0x3d480c(0x280)](_0x3d480c(0x226),_0x3d480c(0x24a),_0x408c7f);}async[_0x50ad95(0x23c)](_0x3adc63,_0x142652,_0x39dff8,_0x4d3801,{isTemporary:_0x22583a,isPrepared:_0x27727a,usesPer:_0x406985}){const _0x3da5d7=_0x50ad95,_0x15718a=_0x3da5d7(0x249);for(let _0x3da0a7=0x1;_0x3da0a7<=0x9;++_0x3da0a7){const _0x2ef46a=_0x3da0a7+'e',_0x1cb571=[...(_0x142652[_0x39dff8]||{})[_0x3da0a7]||[],...(_0x142652[_0x39dff8]||{})[_0x2ef46a]||[]];if(!_0x1cb571[_0x3da5d7(0x1da)])continue;const _0x1d6847=await DataConverterSpell[_0x3da5d7(0x20a)](_0x3adc63[_0x3da5d7(0x26c)],JSON[_0x3da5d7(0x1e9)](_0x1cb571),{'isTemporary':_0x22583a,'optsGetSpellItem':{'casterLevel':_0x3adc63[_0x3da5d7(0x182)],'abilityAbv':_0x3adc63['spellAbility'],'isPrepared':_0x27727a,'preparationMode':_0x15718a,'usesCurrent':_0x3da0a7,'usesMax':_0x3da0a7,'usesPer':_0x406985}});_0x4d3801(_0x1d6847);}delete _0x142652[_0x39dff8];}static[_0x50ad95(0x1fa)](_0x3be7b2){const _0x15c087=_0x50ad95;let _0x2cd6d0=0x0;return _0x3be7b2['headerEntries']&&JSON['stringify'](_0x3be7b2['headerEntries'])[_0x15c087(0x254)](/an? (\d+)[A-Za-z]+-level/i,(..._0x3cc377)=>{const _0x35314e=Number(_0x3cc377[0x1]);if(!isNaN(_0x35314e))_0x2cd6d0=_0x35314e;}),_0x2cd6d0;}static['_getCasterClassFromEntry'](_0x2de9b4){const _0x242ce3=_0x50ad95;let _0x5301f2='';return _0x2de9b4[_0x242ce3(0x26f)]&&JSON['stringify'](_0x2de9b4[_0x242ce3(0x26f)])['replace'](/(?:^| )(bard|cleric|druid|paladin|ranger|sorcerer|warlock|wizard)(?:\W|$)?/i,(..._0x5334b3)=>{_0x5301f2=_0x5334b3[0x1];}),_0x5301f2;}}ImportListCreature[_0x50ad95(0x1ce)]={'saveAbility':'','saveScaling':'spell','saveDc':null},ImportListCreature['ImportEntryOpts']=class{constructor(_0xcee5c2,_0x4b1a1d,_0x3456df){const _0x50d3a2=_0x50ad95;this[_0x50d3a2(0x26c)]=_0xcee5c2,this[_0x50d3a2(0x26b)]=_0x4b1a1d,this[_0x50d3a2(0x257)]=_0x3456df,this['pb']=Parser['crToPb'](_0x4b1a1d['cr']),this[_0x50d3a2(0x23f)]=this['pb'],this[_0x50d3a2(0x1f7)]=DataUtil[_0x50d3a2(0x1c4)][_0x50d3a2(0x121)](_0x4b1a1d),this[_0x50d3a2(0x16e)]='',this[_0x50d3a2(0x206)]=0x8,this[_0x50d3a2(0x182)]=0x0,this[_0x50d3a2(0x239)]='',this['_initSpellcasterData'](_0x4b1a1d),this[_0x50d3a2(0x16b)](_0x4b1a1d),this[_0x50d3a2(0x1a9)]=[],this[_0x50d3a2(0x277)]=[];}['_initAssumedPb'](_0x6700c){const _0x240ed5=_0x50ad95;if(!_0x6700c[_0x240ed5(0x1e1)])return;_0x6700c[_0x240ed5(0x1e1)][_0x240ed5(0x22d)](_0x1e9dbf=>DataConverterCreature['getParsedActionEntryData'](_0x6700c,_0x1e9dbf,this));}[_0x50ad95(0x148)](_0x12efc3){const _0x453b36=_0x50ad95;if(_0x12efc3['spellcasting']){const _0x411547=_0x12efc3[_0x453b36(0x213)][_0x453b36(0x1dd)](_0x39f85c=>_0x39f85c['ability']);if(_0x411547[_0x453b36(0x1da)]){let _0x372355=_0x411547[0x0];if(_0x411547['length']>0x1)switch(Config[_0x453b36(0x174)]('importCreature',_0x453b36(0x167))){case 0x1:{_0x372355=_0x411547[_0x453b36(0x1af)]((_0x31dae5,_0x25c390)=>{const _0x3701de=_0x453b36,_0x4682d1=this['constructor'][_0x3701de(0x1cd)](_0x31dae5),_0x4b288b=this['constructor'][_0x3701de(0x1cd)](_0x25c390);return SortUtil[_0x3701de(0x1e2)](_0x4b288b,_0x4682d1);})[0x0];break;}case 0x2:{_0x372355=_0x411547[_0x453b36(0x1af)]((_0x52e6d8,_0xf75b9a)=>SortUtil[_0x453b36(0x1e2)](Parser[_0x453b36(0x281)](_0x12efc3[_0xf75b9a['ability']]),Parser[_0x453b36(0x281)](_0x12efc3[_0x52e6d8[_0x453b36(0x1fb)]])))[0x0];break;}}const _0x2f1413=_0x372355[_0x453b36(0x1fb)],_0x5e48f4=Parser[_0x453b36(0x281)](_0x12efc3[_0x2f1413]);this['spellAbility']=_0x2f1413,this[_0x453b36(0x206)]=_0x5e48f4+this['pb'];}this[_0x453b36(0x182)]=_0x12efc3[_0x453b36(0x213)][_0x453b36(0x13b)](_0x3223b8=>ImportListCreature[_0x453b36(0x1fa)](_0x3223b8))['find'](Boolean)||0x0,this[_0x453b36(0x239)]=_0x12efc3['spellcasting']['map'](_0x58579b=>ImportListCreature[_0x453b36(0x246)](_0x58579b))[_0x453b36(0x204)](Boolean)||'';}}static[_0x50ad95(0x1cd)](_0x203645){let _0x2c737e=0x0;return JSON['stringify'](_0x203645)['replace'](/{@spell [^}]+}/g,()=>{return _0x2c737e++,'';}),_0x2c737e;}},ImportListCreature['ScaleRename']=class extends Application{constructor(_0x17ff14,_0x5e1045,_0x6805a3){const _0x46e809=_0x50ad95;super({'title':_0x46e809(0x26d),'template':SharedConsts[_0x46e809(0x160)]+'/template/ImportListCreatureScaleRename.handlebars','width':0x3c0,'height':Util['getMaxWindowHeight'](),'resizable':!![]}),this['_dataList']=_0x17ff14,this[_0x46e809(0x151)]=_0x5e1045,this[_0x46e809(0x18b)]=_0x6805a3[_0x46e809(0x14c)],this['_list']=null,this[_0x46e809(0x27e)]=null;}['getData'](){const _0x1c5ade=_0x50ad95;return{'titleSearch':this[_0x1c5ade(0x18b)],'rows':this[_0x1c5ade(0x12b)]['map']((_0x5ea541,_0x3df085)=>({'name':_0x5ea541[_0x1c5ade(0x1f1)],'source':_0x5ea541['source'],'sourceShort':Parser['sourceJsonToAbv'](_0x5ea541[_0x1c5ade(0x135)]),'sourceLong':Parser[_0x1c5ade(0x14a)](_0x5ea541[_0x1c5ade(0x135)]),'sourceClassName':Parser[_0x1c5ade(0x21a)](_0x5ea541['source']),'cr':Parser['monCrToFull'](_0x5ea541['cr']),'isAdjustable':Parser[_0x1c5ade(0x214)](_0x5ea541['cr'])!==0x64,'ix':_0x3df085}))};}[_0x50ad95(0x13c)](_0x749375){const _0x30a2b2=_0x50ad95;super['activateListeners'](_0x749375),this[_0x30a2b2(0x1ae)]=new List({'$iptSearch':_0x749375[_0x30a2b2(0x204)](_0x30a2b2(0x1aa)),'$wrpList':_0x749375[_0x30a2b2(0x204)](_0x30a2b2(0x18e)),'valueNames':['name','source','cr','ix']}),SortUtil[_0x30a2b2(0x166)](_0x749375['find'](_0x30a2b2(0x150)),this[_0x30a2b2(0x1ae)]),this[_0x30a2b2(0x1ae)]['doAbsorbItems'](this[_0x30a2b2(0x12b)],{'fnGetName':_0x246928=>_0x246928[_0x30a2b2(0x1f1)],'fnGetValues':_0x236d59=>({'source':_0x236d59[_0x30a2b2(0x135)],'cr':Parser[_0x30a2b2(0x266)](_0x236d59['cr'])})}),this[_0x30a2b2(0x1ae)][_0x30a2b2(0x125)](),this[_0x30a2b2(0x27e)]=_0x749375[_0x30a2b2(0x204)](_0x30a2b2(0x25d))['click'](()=>{const _0x35fa1b=_0x30a2b2;_0x749375['find'](_0x35fa1b(0x1aa))[_0x35fa1b(0x18f)]('');if(this[_0x35fa1b(0x1ae)])this[_0x35fa1b(0x1ae)][_0x35fa1b(0x1a6)]();}),_0x749375[_0x30a2b2(0x204)](_0x30a2b2(0x1ee))['click'](async()=>{const _0x459c14=_0x30a2b2,_0x3a27cf=this[_0x459c14(0x1ae)][_0x459c14(0x1a9)][_0x459c14(0x13b)](_0x5757d2=>{const _0x2d779d=_0x459c14,_0x4ac42d=$(_0x5757d2[_0x2d779d(0x24a)]),_0x181f1f=_0x4ac42d[_0x2d779d(0x204)](_0x2d779d(0x22a));return{'ix':_0x5757d2['ix'],'targetCr':_0x181f1f['length']?Number(_0x181f1f['val']())===-0x1?null:Number(_0x181f1f[_0x2d779d(0x18f)]()):null,'rename':_0x4ac42d['find'](_0x2d779d(0x1e6))[_0x2d779d(0x18f)]()['trim']()};}),_0x50fd2c=await Promise[_0x459c14(0x23b)](_0x3a27cf['map'](async({ix:_0x4b2caa,targetCr:_0x48260d,rename:_0x4adbbf})=>{const _0x5d9550=_0x459c14;let _0x1e551b=this[_0x5d9550(0x12b)][_0x4b2caa];if(_0x48260d!=null&&_0x48260d!==Parser[_0x5d9550(0x214)](_0x1e551b['cr']))_0x1e551b=await ScaleCreature[_0x5d9550(0x272)](_0x1e551b,_0x48260d);if(_0x4adbbf)_0x1e551b=ImportListCreature[_0x5d9550(0x1d1)]['_getRenamedMon'](_0x1e551b,_0x4adbbf);return _0x1e551b;}));this[_0x459c14(0x151)](_0x50fd2c),this['close']();});if(this[_0x30a2b2(0x27e)])this[_0x30a2b2(0x27e)][_0x30a2b2(0x1c8)]();}static[_0x50ad95(0x178)](_0x51905c,_0x5cabc0){const _0x5bea3a=_0x50ad95;ImportListCreature[_0x5bea3a(0x1d1)][_0x5bea3a(0x1cb)]=ImportListCreature[_0x5bea3a(0x1d1)][_0x5bea3a(0x1cb)]||MiscUtil['getWalker'](),_0x51905c=MiscUtil['copy'](_0x51905c);const _0x2d8848=_0x5cabc0[_0x5bea3a(0x254)](/\\/g,'\x5c\x5c')[_0x5bea3a(0x254)](/"/g,'\x5c\x22'),_0x5f5ef7=new RegExp(_0x5bea3a(0x250)+_0x51905c[_0x5bea3a(0x1f1)]['escapeRegexp']()+_0x5bea3a(0x1a3),'gi'),_0x407056=_0x25e95c=>{const _0x494345=_0x5bea3a;_0x51905c[_0x25e95c]&&_0x51905c[_0x25e95c][_0x494345(0x22d)](_0x4bdc4a=>{const _0x58e3f2=_0x494345;_0x4bdc4a['entries']&&(_0x4bdc4a[_0x58e3f2(0x1bc)]=ImportListCreature[_0x58e3f2(0x1d1)]['_WALER_RENAME'][_0x58e3f2(0x1ab)](_0x4bdc4a[_0x58e3f2(0x1bc)],{'string':_0xb7c8f=>_0xb7c8f[_0x58e3f2(0x254)](_0x5f5ef7,(..._0x5aba70)=>''+_0x5aba70[0x1]+_0x2d8848+_0x5aba70[0x2])})),_0x4bdc4a[_0x58e3f2(0x26f)]&&(_0x4bdc4a[_0x58e3f2(0x26f)]=ImportListCreature[_0x58e3f2(0x1d1)]['_WALER_RENAME'][_0x58e3f2(0x1ab)](_0x4bdc4a[_0x58e3f2(0x26f)],{'string':_0xb2bd0c=>_0xb2bd0c['replace'](_0x5f5ef7,(..._0xa0c60a)=>''+_0xa0c60a[0x1]+_0x2d8848+_0xa0c60a[0x2])}));});};return _0x407056('action'),_0x407056(_0x5bea3a(0x162)),_0x407056(_0x5bea3a(0x177)),_0x407056(_0x5bea3a(0x147)),_0x407056(_0x5bea3a(0x176)),_0x407056('variant'),_0x51905c[_0x5bea3a(0x201)]=_0x5cabc0,_0x51905c;}async[_0x50ad95(0x16c)](){const _0x31e379=_0x50ad95;return this[_0x31e379(0x151)](null),super[_0x31e379(0x16c)]();}},ImportListCreature[_0x50ad95(0x1d1)][_0x50ad95(0x1cb)]=null;export{ImportListCreature};